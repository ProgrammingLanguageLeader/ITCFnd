<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">

    <script src="reddit.js"></script>
    <title>Homework 1</title>
</head>
<body>
    <div id="posts">

    </div>
    <script type="text/javascript">
        let posts = fetchPosts();
        var divPosts = document.getElementById('posts');
        posts.then(posts => {
            for (let i = 0; i < posts.length; i++) {
                let title = posts[i].data.title;
                let permalink = posts[i].data.permalink;
                let image = posts[i].data.thumbnail;
                let card;
                if (image != 'default') {
                    card =
                    `<div class="post">
                        <p>${title}</p>
                        <a href="https://reddit.com/${permalink}">Original</a>
                        <img src="${image}" alt="There must be an image">
                    </div>`;
                } else {
                    card = `<div class="post">
                        <p>${title}</p>
                        <a href="https://reddit.com/${permalink}">Original</a>
                    </div>`;
                }
                divPosts.innerHTML += card + '<hr>';
                console.log(`${title} - ${permalink} - ${image}`);
            }
        });
    </script>
</body>
</html>
